<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Central de Suporte</title>
    <link rel="icon" type="image/png" href="./Arquivos/Imagens/logo.png">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', sans-serif;
        }

        body {
            background-color: #f8f9fa;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            padding-bottom: 60px;
        }

        .header {
            background: linear-gradient(rgba(0,0,0,0.7), rgba(0,0,0,0.7)), url('./Arquivos/Imagens/capa.png');
            background-size: cover;
            padding: 1rem 2rem;
            height: 180px;
            border-radius: 0 0 20px 20px;
            display: flex;
            align-items: center;
            gap: 25px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }

        .logo {
            width: 120px;
            filter: drop-shadow(2px 2px 3px rgba(0,0,0,0.4));
        }

        .titulo-container {
            display: flex;
            flex-direction: column;
            gap: 6px;
        }

        .titulo {
            color: white;
            font-size: 1.8em;
            font-weight: 350;
            letter-spacing: 0.3px;
        }

        .subtitulo {
            color: #e0e0e0;
            font-size: 1em;
            font-weight: 300;
        }

        .search-box {
            text-align: center;
            margin: 30px 0;
        }

        .search-input {
            width: min(90%, 600px);
            padding: 12px 20px;
            border: 2px solid #e0e0e0;
            border-radius: 28px;
            font-size: 1em;
            transition: all 0.2s;
            background: white url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="%23004a8d" width="20px" height="20px"><path d="M0 0h24v24H0z" fill="none"/><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/></svg>') no-repeat 96% center;
            background-size: 18px;
        }

        .search-input:focus {
            outline: none;
            border-color: #004a8d;
            box-shadow: 0 0 12px rgba(0,74,141,0.2);
        }

        .main-content {
            position: relative;
            display: grid;
            grid-template-columns: 1fr 1.5fr 1fr;
            gap: 25px;
            padding: 25px 5%;
            max-width: 1500px;
            margin: 0 auto;
            flex: 1;
        }

        .botoes-centrais {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            padding: 15px;
        }

        .botao {
            background: linear-gradient(135deg, #004a8d, #0066cc);
            color: white;
            padding: 16px;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            font-size: 0.95em;
            transition: all 0.2s;
            text-align: center;
            text-decoration: none;
            box-shadow: 0 2px 5px rgba(0,0,0,0.08);
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 60px;
        }

        .chatbot-btn {
        position: fixed;
        bottom: 85px;
        right: 25px;
        background: linear-gradient(135deg, #004a8d, #0066cc);
        color: white;
        padding: 12px 20px;
        border: none;
        border-radius: 25px;
        cursor: pointer;
        font-size: 0.9em;
        box-shadow: 0 5px 15px rgba(0,0,0,0.12);
        transition: all 0.2s;
        z-index: 1000;
    }

        .chatbot-container {
        position: fixed;
        bottom: 140px;
        right: 25px;
        width: 500px;
        height: 70%;
        max-height: 600px;
        border-radius: 15px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        z-index: 1000;
        display: none;
        overflow: hidden;
        background: white;
        transition: all 0.3s ease;
    }

    .chatbot-iframe {
            width: 100%;
            height: 100%;
            border: none;
            border-radius: 15px;
        }

    .chatbot-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 7px 18px rgba(0,0,0,0.18);
    }

    .chatbot-btn.active {
            transform: translateY(-10px);
            background: linear-gradient(135deg, #cc0000, #990000);
        }

        .botao:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(0,0,0,0.15);
            background: linear-gradient(135deg, #0066cc, #004a8d);
        }

        .sidebar {
            background: white;
            padding: 20px;
            border-radius: 16px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.06);
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .modal {
    display: none;
    position: fixed;
    z-index: 1000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    overflow: auto;
    background-color: rgba(0,0,0,0.6);
}

.modal-content {
    background-color: #fefefe;
    margin: 5% auto;
    padding: 25px;
    border: 1px solid #004a8d;
    border-radius: 10px;
    width: 70%;
    max-width: 600px;
    position: relative;
    animation: modalOpen 0.3s;
}

@keyframes modalOpen {
    from {transform: scale(0.9); opacity: 0}
    to {transform: scale(1); opacity: 1}
}

.alert {
    padding: 15px;
    background: #fff3cd;
    border-left: 4px solid #ffc107;
    margin: 10px 0;
    border-radius: 4px;
}

.close {
    color: #aaa;
    position: absolute;
    right: 20px;
    top: 10px;
    font-size: 28px;
    font-weight: bold;
    cursor: pointer;
}

.close:hover {
    color: #004a8d;
}

.modal-content h2 {
    color: #004a8d;
    margin-bottom: 15px;
    border-bottom: 2px solid #eee;
    padding-bottom: 10px;
}

        .video-container {
            position: relative;
            padding-bottom: 56.25%;
            height: 0;
            overflow: hidden;
            border-radius: 12px;
        }

        .video-container video {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .documentos {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .doc-botao {
            background: #f8f9fa;
            border: 1px solid #ddd;
            padding: 12px;
            border-radius: 8px;
            transition: all 0.2s;
            text-decoration: none;
            color: #333;
            text-align: center;
            font-size: 0.9em;
        }

        .doc-botao:hover {
            background: #004a8d;
            color: white;
            transform: translateX(3px);
        }

        .links-uteis {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .link-item {
            padding: 12px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 1px 6px rgba(0,0,0,0.04);
            border: 1px solid #eee;
            transition: transform 0.2s;
        }

        .link-item:hover {
            transform: translateY(-2px);
        }

        .link-item a {
            color: #004a8d;
            text-decoration: none;
            font-weight: 500;
            word-break: break-word;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .search-box {
            text-align: center;
            margin: 30px 0;
        }

        .search-input {
            width: 50%;
            padding: 12px 20px;
            border: 2px solid #e0e0e0;
            border-radius: 28px;
            font-size: 1em;
            transition: all 0.2s;
            background: white url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="%23004a8d" width="20px" height="20px"><path d="M0 0h24v24H0z" fill="none"/><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/></svg>') no-repeat 96% center;
            background-size: 18px;
        }

        .search-input:focus {
            outline: none;
            border-color: #004a8d;
            box-shadow: 0 0 12px rgba(0,74,141,0.2);
        }

        .search-results {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            width: 50%;
            max-width: 600px;
            z-index: 100;
            background: white;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            display: none;
        }


    .result-item {
        background: white;
        padding: 15px;
        margin-bottom: 10px;
        border-radius: 8px;
        box-shadow: 0 2px 6px rgba(0,0,0,0.05);
        cursor: pointer;
        transition: all 0.2s;
    }

    .result-item:hover {
        transform: translateX(5px);
        box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }

    .result-title {
        color: #004a8d;
        font-weight: 500;
        margin-bottom: 5px;
    }

    .result-excerpt {
        color: #666;
        font-size: 0.9em;
    }

    .highlight {
        background-color: #fff3cd;
        padding: 2px 4px;
        border-radius: 3px;
    }

        footer {
            background-color: #333;
            color: white;
            text-align: center;
            padding: 15px;
            font-size: 0.85em;
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            border-radius: 12px 12px 0 0;
            z-index: 1000;
        }

        @media (max-width: 1200px) {
            .main-content {
                grid-template-columns: 1fr;
                padding: 20px;
            }

            .sidebar {
                width: 100%;
                max-width: 600px;
                margin: 0 auto;
            }

            .botoes-centrais {
                order: -1;
            }
        }

        @media (max-width: 768px) {
            .botoes-centrais {
                grid-template-columns: 1fr;
            }

            .botao {
                min-height: 50px;
                font-size: 0.9em;
            }

            .header {
                height: auto;
                padding: 1rem;
                flex-direction: column;
                text-align: center;
            }

            .logo {
                width: 80px;
            }

            .titulo {
                font-size: 1.4em;
            }

            .subtitulo {
                font-size: 0.9em;
            }
        }
    </style>
</head>

<div id="customModal" class="modal">
    <div class="modal-content">
        <span class="close">&times;</span>
        <h2>Atenção</h2>
        <div id="modalText">
            <!-- Conteúdo dinâmico será inserido aqui -->
        </div>
    </div>
</div>

<body>
    <header class="header">
        <img src="./Arquivos/Imagens/logo.png" alt="Logo da Empresa" class="logo">
        <div class="titulo-container">
            <h1 class="titulo">Central de Suporte</h1>
            <h2 class="subtitulo">Gerência de Relacionamento e Comercial</h2>
        </div>
    </header>

    <div class="search-box">
        <input type="text" class="search-input" id="searchInput" placeholder="Pesquise pelo assunto desejado">
    </div>

    <div id="searchResults" class="search-results"></div>

    <div class="main-content">
        <!-- Coluna Esquerda -->
        <div class="sidebar">
            <div class="video-container">
                <video controls poster="./Arquivos/Imagens/postalis.png">
                    <source src="./Arquivos/Documentos/demandagbe.mp4" type="video/mp4">
                    Seu navegador não suporta vídeos.
                </video>
            </div>
            <div class="documentos">
                <h3>📄 Documentos Frequentes</h3>
                <a href="./Arquivos/Documentos/Formulário de Reingresso.docx" class="doc-botao" download>Formulário de Reingresso</a>
                <a href="./Arquivos/Documentos/FORMULARIO DE CANCELAMENTO - ICATU (2).docx" class="doc-botao" download>Cancelamento - Seguro de Vida</a>
                <a href="./Arquivos/Documentos/Autorizacao_de_debito_em_conta_corrente_Seguro_Vida (1).docx" class="doc-botao" download>Débito em conta - Seguro de Vida</a>
                <a href="./Arquivos/Documentos/FORMULARIO_MANUTENCAO_CONTRIBUICAO_5 (1).doc" class="doc-botao" download>Manutenção de contribuição - CAD</a>
                <a href="./Arquivos/Documentos/FORMULARIO_SUSPENSÃO_CONTRIBUIÇÃO_set2019.doc" class="doc-botao" download>Suspensão de contribuição - CAD</a>
                <a href="./Arquivos/Documentos/Formulario_dependentes_IR.doc" class="doc-botao" download>Dependente para IR - GBE</a>
            </div>
        </div>

        <!-- Coluna Central -->
        <div class="botoes-centrais" id="botoesCentrais">
            <a href="./Páginas/emprestimo.html" class="botao" data-search="empréstimo">Empréstimo</a>
            <a href="./Páginas/aposentadoria.html" class="botao" data-search="aposentadoria">Aposentadoria</a>
            <a href="./Páginas/bad.html" class="botao" data-search="auxílio doença">Auxílio Doença</a>
            <a href="./Páginas/institutos.html" class="botao" data-search="institutos">Institutos</a>
            <a href="./Páginas/postalisonline.html" class="botao" data-search="postalis online">Postalis Online</a>
            <a href="./Páginas/arqgrc.html" class="botao" data-search="arquivos grc">Base de Conhecimento</a>
            <a href="./Páginas/pensao.html" class="botao" data-search="pensão e pecúlio">Pensão e Pecúlio</a>
            <a href="./Páginas/seguro.html" class="botao" data-search="seguro de vida">Seguro de Vida</a>
            <a href="./Páginas/ir.html" class="botao" data-search="imposto de renda">Imposto de Renda</a>
            <a href="./Páginas/outros.html" class="botao" data-search="outros assuntos">Outros Assuntos</a>
        </div>

        <!-- Coluna Direita -->
        <div class="sidebar">
            <h3>🔗 Links Úteis</h3>
            <div class="links-uteis">
                <div class="link-item">
                    <a href="https://meet.google.com/hrd-jziu-fza">Teams - Suporte</a>
                </div>
                <div class="link-item">
                    <a href="https://meet.google.com/iuh-hrbg-vmf">Teams - Empréstimo</a>
                </div>
                <div class="link-item">
                    <a href="https://postalis.bitrix24.com/stream/">Bitrix</a>
                </div>
                <div class="link-item">
                    <a href="http://intranet.postalis.org.br/">Intranet</a>
                </div>
                <div class="link-item">
                    <a href="https://login.lg.com.br/login/postalis">RH Digital</a>
                </div>
                <div class="link-item">
                    <a href="https://postalis.chat.comunix.tech/">Comunix Phone</a>
                </div>
            </div>
        </div>
    </div>

    <footer>
        GRC/DGP | gabriel.talles@postalis.org.br
    </footer>

    <button class="chatbot-btn" id="chatbotButton">
        *
    </button>

    <div class="chatbot-container" id="chatbotContainer">
        <iframe 
            src="https://typebot.co/stella-grc" 
            class="chatbot-iframe"
            allow="microphone; camera"
        ></iframe>
    </div>

    <script>
        // Dados de exemplo (substitua com seus artigos reais)
        const articles = [
            {
                title: "Margem",
                content: "Orientações sobre margem consignável",
                path: "./Respostas/Emprestimo/margem.html",
                keywords: "margem, desconto"
            },
            {
                title: "Carteira fechada",
                content: "Orientações quanto ao fechamento da carteira",
                path: "./Respostas/Emprestimo/carteirafechada.html",
                keywords: "carteira, fechada, carteira fechada"
            },
            {
                title: "Fale Conosco",
                content: "Orientações para abertura de chamado",
                path: "./Respostas/Postalis Online/fale-conosco.html",
                keywords: "fc, sb3"
            },
            {
                title: "Quita Fácil",
                content: "Informações sobre a campanha Quita Fácil",
                path: "./Respostas/Emprestimo/quita-facil.html",
                keywords: "quita fácil, quitação"
            },
        ];
    
        // Função de pesquisa
        document.getElementById('searchInput').addEventListener('input', function() {
    const searchTerm = this.value.toLowerCase();
    const resultsContainer = document.getElementById('searchResults');
    
    if (searchTerm.length > 0) {
        resultsContainer.style.display = 'block';
        
        const filteredArticles = articles.filter(article => {
            return article.title.toLowerCase().includes(searchTerm) ||
                   article.content.toLowerCase().includes(searchTerm) ||
                   article.keywords.toLowerCase().includes(searchTerm);
        });

        displayResults(filteredArticles, searchTerm);
    } else {
        resultsContainer.style.display = 'none';
    }
});
    
        function displayResults(results, term) {
            const container = document.getElementById('searchResults');
            container.innerHTML = '';
            
            if (results.length === 0) {
                container.innerHTML = '<div class="result-item">Nenhum resultado encontrado</div>';
                return;
            }
    
            results.forEach(article => {
                const div = document.createElement('div');
                div.className = 'result-item';
                div.innerHTML = `
                    <div class="result-title">${highlightMatches(article.title, term)}</div>
                    <div class="result-excerpt">${highlightMatches(article.content.substring(0, 100), term)}...</div>
                    <div class="result-keywords">${highlightMatches(article.keywords, term)}</div>
                `;
                div.addEventListener('click', () => {
                    window.location.href = article.path;
                });
                container.appendChild(div);
            });
        }
    
        function highlightMatches(text, term) {
            if (!term) return text;
            const regex = new RegExp(`(${term})`, 'gi');
            return text.replace(regex, '<span class="highlight">$1</span>');
        }

        const modal = {
    init: () => {
        // Elementos do DOM
        modal.element = document.getElementById('customModal');
        modal.closeBtn = document.querySelector('.close');
        
        // Event Listeners
        modal.closeBtn.onclick = modal.close;
        window.onclick = (event) => {
            if (event.target === modal.element) {
                modal.close();
            }
        }
    },

    open: (content) => {
        document.getElementById('modalText').innerHTML = content;
        modal.element.style.display = 'block';
    },

    close: () => {
        modal.element.style.display = 'none';
    }
};

// Inicialização
document.addEventListener('DOMContentLoaded', modal.init);

// Exemplo de uso - pode ser chamado de qualquer lugar:
// modal.open('<p>Conteúdo customizado aqui!</p>');

 window.onload = () => {
    modal.open(`
        <div class="alert">
        Sistema em construção. Algumas páginas podem estar incompletas ou apresentando erros que serão corrigidos com o tempo 
       </div>
    `);
};

        // Controle do chatbot
        const chatbotButton = document.getElementById('chatbotButton');
        const chatbotContainer = document.getElementById('chatbotContainer');
        let isChatOpen = false;

        chatbotButton.addEventListener('click', () => {
            isChatOpen = !isChatOpen;
            
            if(isChatOpen) {
                chatbotContainer.style.display = 'block';
                chatbotButton.classList.add('active');
                chatbotButton.textContent = 'Fechar';
                // Rolagem suave para o botão
                setTimeout(() => {
                    chatbotContainer.scrollIntoView({behavior: 'smooth', block: 'end'});
                }, 300);
            } else {
                chatbotContainer.style.display = 'none';
                chatbotButton.classList.remove('active');
                chatbotButton.textContent = '*';
            }
        });

        // Opcional: Fechar o chat ao clicar fora
        document.addEventListener('click', (event) => {
            if(isChatOpen && 
               !chatbotContainer.contains(event.target) && 
               event.target !== chatbotButton) {
                chatbotButton.click();
            }
        });

    </script>
</body>
</html>
